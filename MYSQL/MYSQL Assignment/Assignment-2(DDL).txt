Assignment-2(DDL)

1.Create the table Member, Books and Issue without any constraints as
mentioned in the schema description above.
->Member
create table Member(Member_Id int ,Member_Name Varchar(30),Member_address Varchar(50),
    -> Acc_Open_Date Date,Membership_type Varchar(20) check(Membership_type in('Lifetime','Annual','Half Yearly','Quarterly')),
    -> Fees_paid int,Max_Books_Allowed int,Penalty_Amount decimal(7,2));

Books
create table Books(Book_No int ,Book_Name Varchar(30),Author_name Varchar(50),Cost decimal(7,2),Category char(10));

Issue
create table Issue(Lib_Issue_Id int ,Book_No int,Member_Id int,Issue_Date date,Return_date date);


2.View the structure of the tables.
->desc Issue;

3.Drop the Member table
->drop table Member;

4.Create the table Member again as per the schema description with the
following constraints.
a. Member_Id – Primary Key
b. Membership_type - ‘Lifetime’,’ Annual’, ‘Half Yearly’,’ Quarterly'
->create table Member(Member_Id int ,Member_Name Varchar(30),Member_address Varchar(50),
    -> Acc_Open_Date Date,Membership_type Varchar(20) check(Membership_type in('Lifetime','Annual','Half Yearly','Quarterly')),
    -> Fees_paid int,Max_Books_Allowed int,Penalty_Amount decimal(7,2));

5.Modify the table Member increase the width of the member name to 30
characters.
->alter table Member
  modify column Member_Name Varchar(30);

6.Add a column named as Reference of Char(30) to Issue table.
->alter table Issue
 add column Reference char(30);

7.Delete/Drop the column Reference from Issue.
->alter table Issue
 drop column Reference;

8.Rename the table Issue to Lib_Issue.
->alter table Issue
  rename to Lib_Issue;

9.Insert following data in table Member
->insert into Member values(1,"Richa Sharma","Pune",'10-12-05',"Lifetime",25000,5,50);
 insert into Member values(2,"Garima Sen","Pune",'2025-05-20',"Annual",1000,3,Null);

10.Insert at least 5 records with suitable data.
->insert into Member values(1,"Richa Sharma","Pune",'10-12-05',"Lifetime",25000,5,50);
  insert into Member values(2,"Garima Sen","Pune",'2025-05-20',"Annual",1000,3,Null);
  insert into member values(5,"Riya Sharma","Pune","2024-12-02","Half Yearly",4000,1,100),
  (6,"Rohit Sharma","Nashik","2022-11-02","Quarterly",7000,1,3000);

11.Modify the column Member_name. Decrease the width of the member
name to 20 characters. (If it does not allow state the reason for that)
->alter table Member
  modify Member_Name varchar(20);

12.Drop the table books.
->drop table books;

13.Create table Books again as per the schema description with the
following constraints.
a. Book_No – Primary Key
b. Book_Name – Not Null
c. Category – System, Fiction, Database, RDBMS, Others.
->alter table books
  modify column Book_No int primary key;

  alter table books
  modify column Book_Name varchar(30) not null;

  alter table books
  modify column Category varchar(30)        check(Categoryin("System","Fiction","Database","RDBMS"));

14.Insert data in Book table .
->insert into books values(101,"Let us C","Denis Ritchie",450,"System"),
 (102,"Oracle-Complete Ref","Loni",550,"Database"),
 (103,"Mastering SQL","Loni",250,"Database"),
 (104,"PL SQL-Ref","Scott Urman",750,"Database");

15.Insert more records in Book table.
-> insert into books values(105,"Postgree SQL","Scott Urman",950,"RDBMS");

16.Rename the table Lib_Issue to Issue.
->alter table lib_issue
  rename to issue;

17.Drop table Issue.
->drop table issue;

18.As per the given structure Create table Issue again with following
constraints.

 Lib_Issue_Id-Primary key
 Book_No- foreign key
 Member_id - foreign key
 Issue_date
 Return_date
->alter table issue
  modify column Lib_Issue_Id int primary key;

  alter table issue
  add constraint fk_book_no foreign key(Book_No)
  references books(Book_No),
  add constraint fk_member_id foreign key(Member_Id)
  references Member(Member_Id);

19.Insert following data into Issue table.
->insert into issue(Lib_Issue_Id,Book_No,Member_Id,Issue_Date)    values(7001,101,1,'2006-12-10'),
(7002,102,2,'2006-12-25'),
(7003,104,1,'2006-01-15'),
(7004,101,1,'2006-07-04'),
(7005,104,2,'2006-12-15'),
(7006,101,3,'2006-02-18');

20.Remove the constraints on Issue table
->ALTER TABLE Issue DROP FOREIGN KEY fk_member;
ALTER TABLE Issue DROP FOREIGN KEY fk_book;

21.Remove all the records from Book table with category other than RDBMS and Database.
->delete from books;

22.Remove the table Member.
->drop table member; 

23.Remove the table Book.
->drop table books;


